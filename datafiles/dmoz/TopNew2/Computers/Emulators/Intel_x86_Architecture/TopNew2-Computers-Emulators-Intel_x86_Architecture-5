bochs-tools what it is you want to run your favorite linux-installation with the bochs-emulator ( see http : //bochs.sourceforge.net ) but you think it is too tedious to install it from within bochs ? bochs-tools are the solution for your problem. with bochs-tools , cloning an existing os-installation to a bochs-image is only a matter of a few commands . bochs-tools are a collection of scripts and programs to be used together with the bochs-emulator. the main goal was to provide a unix-like interface to the emulator and to enable access to bochs disk-images from outside of bochs . the tools were developed under linux. they might also work on other operating-systems. feedback on this issue is appreciated . note that most of the bochs-tools are obsolete now. bochs supports additional container-formats , e.g. you could use the concat -type , put each partition in a seperate file and access individual partitions using normal loop-mounts . example let 's assume we have installed the debian bootstrap installation of woody on /dev/sdb3 ( about 110mb ) . we want to put this distribution on a disk-image and start the emulator afterwards. the following commands will create the image ( two partitions , swap-size is 32 mb ) , install lilo on it and start it : # mount /dev/sdb3 /mnt # mount woody-installation # bxtclone /mnt hda.img # create , copy , install lilo # umount /mnt # umount source # bxtstart -b disk -1 hda.img # start the emulator and boot from disk if you need a more fine-grained control over what is done , you can use some of the other bochs-tools. a suite of commands could look like this : # bxtcreate -1 200m -2 128m hda.img # create the image # bxtmkfs -t ext2 hda.img : 1 # make ext2-fs on first partition # bxtmkfs -t swap hda.img : 2 # make swap-space on second partition # mount /dev/sdb3 /mnt # mount woody-installation # bxtcopy /mnt hda.img : 1 # copy woody-tree to first partition # umount /mnt # umount source # bxtmount hda.img : 1 /mnt # mount first partition ( the copy ! ) # vi /mnt/etc/fstab # change mountpoint of / to /dev/hda1 # and swap to /dev/hda2 # ln -fs hdc /mnt/dev/cdrom # make sure that /dev/cdrom points to # /dev/hdc # umount /mnt # bxtlilo hda.img # install the lilo boot-loader # bxtstart -b disk -1 hda.img # start the emulator and boot from disk note that with the current release of bochs ( 2.0.2 ) , woody with a 2.2-kernel hangs , as soon as it accesses the hardware-clock . download the current stable source-distribution is bochstools-1.7.1.tar.bz2 ( about 38 kb ) . you either need the bunzip2-utility to unpack the archive , or a current version of gnu tar. in the latter case , you can use a command like tar -xvjf bochstools-1.7.1.tar.bz2 to untar the archive . you can also download a binary-only rpm : bochstools-1.7.1-1.i386.rpm be sure to download the archives in binary mode. the md5 checksums are : 9c39e092c40046aadf497f0a192d9912 bochstools-1.7.1-1.i586.rpm 359529f9da17e0de49322e5f90da005d bochstools-1.7.1.tar.bz2 news important recent changes : version 1.7.1 : minor bug-fix . version 1.7.0 : upgraded bxtptinfo. added support for ext4 . version 1.6.4 : preliminary lfs-support. added bxtactivate , bxtdd , bxtsettype , bxtsfdisk. scripts are now quiet by default . version 1.6.1 : ignore mkswap-fsync error in bxtclone version 1.6.0 : added bxtclone. added a rpm-package. code-cleanups and minor bug-fixes . version 1.4.0 : added bxtlilo. code-cleanups and minor bug-fixes . version 1.2.0 : added man-pages. improved functionality of various commands . version 1.0.0 : first public release for a complete list of changes , see the files news and changelog in the distribution . my homepage bernhard bablok ( mail @ bablokb.de )
