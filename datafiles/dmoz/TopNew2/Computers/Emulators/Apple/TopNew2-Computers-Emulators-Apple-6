html tidy options clean : y indent : y indent-spaces : 2 tab-size : 1 newline : lf tidy-mark : y //// palmapple - apple //e emulator for palm // palmapple about licenses current status architecture developement diary download tools source authors links zaurus hk palmapple sourceforge site yae , yet another apple ] [ emulator apple //e emulator for windows motorola m68000 product information 6502 information palm os â„¢ prc-tools hkpug - hong kong palmpilot user group about palmapple is an open source apple //e emulator for palmos pdas. its optimized to run on the motorola 68000 dragonball cpu. initial version is ported by hilary cheng . palmapple was re-implemented as appalm ] [ by david schmenk. we welcome anyone to join this project. you can contact us by email or post a request in the forum. news i will post more news on my current projects , pls goto my web site : tiny object : http : //hilary.e-fever.org/ if you like king quest 1 / space quest 1 in ur palm , you can go here 22 sept , 2003 - vote ! please take a vote for your palm device that u are using for emulator. please vote once. we wan na to collect information about usage of emulator and send ur features ' wish list to us ! thanks you ! 4 sept , 2003 - version 0.7.5 has been released notes : this is the feature complete version. bug fixing from here to release 1.0 download authors hilary cheng is one of the committees of hkpug - hong kong palmpilot user group and working as software engineer in a local company for pos. dave schmenk got his apple ] [ + 23 years ago. bill budge 's 3d package hooked me on 3d graphics which led to a nice start-up company 10 years ago. i met bill a couple of years ago. nicest , most modest guy you would ever meet. licenses palmapple 's licenses is gnu gpl. please go to this links for more details palmapple is based on yae so that we can port to palmos platform. palmapple can not be used for sale or any redistribution unless there is an agreement with the authors. please contact the author before any sale or any redistribution . palmapple is an open source software. anyone is free to modify the source code and contribute to it. all the users are free to use this software. but the authors are not responsibile for any damage by this software . please try it at your risk ! hi-res screen shot ultima iv lode runner normal-res screen shot skyfox galaxians super zaxxon karateka current status complete rewrite using 68000 assembly for 6502 and video emulation . apple //e with m65c02 cpu ( not complete undocumented opcode emulation ) 64k memory ( with 16k language card ) 40x24 text mode , 280x192 hires mode , lores mode , mixed text/hires mode , and mixed text/lores mode. disk ii controller support - slot 6 only basic sound support using snddocmd 80-column card for hi-res devices included apple disk converter this is beta ! . play it at your own risk. architecture all the new code is in the src/ directory and builds as appalm.prc. the original code still exists in palmapple/ but is no longer built. appalm.c : main program , state and preferences save/restore. 6502.asm : 6502 core. all 6502 cpu state is mirrored in 68000 registers memory access is made through r/w page table function pointers r/w page table functions are asm called but have c wrappers available memio.c : memory and i/o mapping. memory map memory soft switch 16k language card disk ii controller video.c and vidclr.asm : video image generation. video soft switch video image cache image stretch to 320x216 in hires mode 160x160 monochrome support accurate color rendition mixed mode hires/text support lores support on sony fonts7x8.c : font character map with 7x8 characters for 320x320 or 320x480 res. fonts4x6.c : font character map with 4x6 characters for 160x160 res. developement diary 18/11/2003 finally , i got a arm os5 device ( palm tungsen | e ) . i 'm still planning time to upgrade the emulator for a armlet version. ( hilary ) 09/4/2003 i added a caps lock/unlock function. it is independent of the system caps setting . 09/3/2003 i bumped the minimum os version to 3.5. anything lower rejects the call to allocate 64k of memory used as the apple 's main memory bank . fixed a few menu bugs and jogdial activation with the dialog boxes open . 08/29/2003 cleaned up the sound a little. along with a slight change in the refresh rate implementation , it sounds reasonable ( for a palmpilot , anyway ) . the refresh rate increase/decrease inversely affects interactivity. your emulated apps may run a little slower but grafitti will be recognized better. especially useful for you os5 people. if you have a fast os3/os4 device , then you can speed up your apps by decreasing refresh rate. interactivity should n't suffer for modest refresh rate decrements . 08/27/2003 i 've wrapped a few user requests into a binary release . i 've increased the emulated cycles between event checking so that 33 mhz devices should n't need overclocking for decent performance. interactivity does n't seem to suffer . i have also made a request to developers for help in adding an appalm manager application to enhance the features of appalm . 08/16/2003 i think i 've got the lota bug resolved. in the process , i overwrote the wrong disk as the character disk. so , i 've added an explicit writeenable checkbox to the disk load dialog. the writeenable will not override the read-only flag on the database. 08/14/2003 it is now official - appalm ] [ is out of code space. the straw that broke the camel 's back was jogdial support. it is pretty cool , though. the jogdial emulates paddle 0. press the jogdial for button press. if you have a back button , that will toggle between paddle 0 and paddle 1. i know it is bad form to make the back button do something non-standard , but it is too easy to press by accident and drop you back in the launcher just as you were about to annihilate that last alien. works great with games like space invaders , galaxians , sneakers and even little brick out : - ) 08/14/2003 sound does work on the clie. i accidently turned of the sound output in the 68vz328 peripheral control register thinking that snddocmd used the pwm2 circuit , not the pwm1 circuit. oddly , a hard reset did n't change it back , i had to rewrite the default value back by hand. anyway , the clie is buzzing away. the sound implementation still sounds bad though. 08/12/2003 i broke greyscale recently and just fixed it. to make up for my boneheadedness , i re-implemented greyscale in assembly. much faster ( and it works ) . 08/11/2003 i ported the hires device color code to standard res device support for text and hires modes. all of you with palm vs can now enjoy your games in color instead of greyscale. should be as fast as the hires device code. 08/9/2003 more works than i thought. thanks to a tip from mmulhern about copy-protected disks , wizardry and the ultimas work great. you will need to set the read-only property on the boot disk image databases to get them to work. i will update the working list. now , if i could get sound to work on the clie we would be much closer to a 1.0 release... 08/6/2003 os5 high resolution should be fixed. but we do n't have any os5 device. anyone wan na to test. pls send email to us. pls help ! 08/1/2003 fixed the really annoying bug with drive selection. interestingly , the addition of the two drive controls helped debug the problem with the wrong drive light coming on. also improved the text performance a little ( and reduced the code size somewhat ) . 07/29/2003 80 column card support for hires devices ( no double hires yet ) . attempt at os5 high density support and a fix for dsk2pdb for borland binary ( i hope ) . 07/12/2003 initial sound support using snddocmd. it does n't work on my clie ( quiet ticks only ) but it does on my iiixe. since it is quite a cpu hog , turn it off by setting game volume to off in system preferences. 07/11/2003 a language card fix that cleans up superzaxxon and gets skyfox working. i thought skyfox was the coolest game when it came out , but i could never get the hang of playing it. i find it much easier to play on the clie with the game pad ( and still quite cool ) . ultima iv runs better too. many games require the extended 80 column card on the //e for the double hires mode. kings quest and might & magic are the two that i looked at. once i get wizardry working.... 07/10/2003 performance tweaking and graphics mode support improvements. i added lo-res graphics mode for the hires color devices and switched the lores mono devices to 2bpp mode. much improved quality. when performance tuning , i uncovered a not-so-nice feature of the peripheral device drivers. those prc files that make your external keyboard work transparently with the other apps. turns out , they suck a lot of cpu power , even when they are disabled. the thumb keyboard is the worst - 50 % performance degradation with it resident. the folding keyboard and the game controller suck up about 10 % each. amazing. what the heck are they doing ? remove those files if performance is important. 06/24/2003 whew. ultima iv is the ultimate pain when it comes to language card access. it alternates between bank 1 and bank 2 for every image byte access. so , after implementing a crazy scheme to update just the page table entries for r/w and insert special versions of the opcodes that could change the program counter into language card space , then fix everything up when that happens and make it fit on a palm and debug it all , it now works well enough to play. apple pascal now boots too : - ) and all because hilary wanted to play ultima iv. i also added a little tweak here and there to make interactivity a little better. karateka kicks @ $ $ now. 06/22/2003 dual disks implemented. there seems to be an issue where you sometimes have to mount the disk twice to get it to read. work in progress... 06/20/2003 disk writes are working now. the disk image data base readonly attribute controls the write-protect. pretty cool. maybe i 'll add support for dual disks. 06/20/2003 wow , the latest cvs can boot prodos at sony clie t650 99mhz with 9-10seconds. amazing. the speed is nearly same as a real apple ] [ . but it has bugs. please stay tune. 06/19/2003 big check-in. disk i/o is much faster. my first attempt to emulate the disk rotation has met with better than expected results. i also found my problem with lode runner - i was using non-strict stack emulation and paid the price. luckily i anticipated this with a # define that switches between my strict and non-strict implementations. we now are using strict stack manipulation , but i did n't see much speed difference anyway. 06/18/2003 planning on major disk i/o rewrite. i have changed the raw track size. this breaks current dsk.pdb files so you will need to re-create them. hopefully you will see a big speedup shortly. 06/17/2003 all new implementation. most palmos hardware should be able to run the emulator. many outstanding bugs exist. performance is close ( slightly faster ? ) to native apple //e on 66 mhz clie with hires color. still only working with raw , nibblized disk format. command line tool for converting dsk - > pdb . prodos boots very fast ( but broken 80 column probe ) choplifter runs great karateka runs great sammy lightfoot runs great lode runner missing opcodes : - ( wizardry = crash : - ( 02/05/2002 i am planning to make a new release on 30/05/2002. it will including a rom/disk converter ( currently only support dsk format , no nibble ) tools for win32. stay tune. 29/04/2002 i have fixed some bugs that allow to switch back to other palm applications. also , no fatal exception after pressing reset. 10/04/2002 since the speed of emulator is not enough to play any apple ] [ game. so we will try to use m68000 register to store the value of 6502 register. it may improve the speed of the emulator. hope that it can play a few games after the modification. 06/04/2002 we have started to implement hi-res drawing function. palmapple can successfully boot prodos ultima iv karateka b ut most of it needs about 20 minutes to boot in pose. so more performance enchancing is needed so that games are playable . 20/03/2002 after fixing a few bugs , currently , palm iiic with 37mhz ( overclock with afterburner ) can boot first prodos splash screen about 35 seconds. it is great ! . it is much faster than previous version. previous version needs about 2 minutes to boot ! 03/04/2002 fixing lots of bugs , including 16k ram card + video soft switch. since prodos will test page2 video memory. i have implemented it by filling a non-readable & non-writable memory for $ 400 memory. for the right now , prodos can boot without any problem ! ! it can perform cat & catalog command ! yeah ! i am preparing for the new release and upload to sourceforge + documentation that allows other people to join the projects. 20/03/2002 after fixing a few bugs , currently , palm iiic with 37mhz ( overclock with afterburner ) can boot first prodos splash screen about 35 seconds. it is great ! . it is much faster than previous version. previous version needs about 2 minutes to boot ! 19/03/2002 one of the emulator bug make things happen very differently. prodos can boot in the sony clie rom but can not boot in palmiiic rom. it is strange ! so every assembly code you have written should be checked very carefully . currenly , i need to implement enhanced iie feature to expand more 64k memory. since prodos needs enhanced iie features. 18/03/2002 a lot of bug fix in the 6502 emulation core. we should be very careful when writing assembly language. since the compiler ca n't help you to check much of your code. 06/03/2002 we can use it by c pointer. use memsemaphorereserve ( ) to enable direct access the heap storage. : p but it is very dangerous. it can overwrite everything in the palm. 05/03/2002 i have found ftrptrnew to create a 64k memory block. but it is not accessible by using c pointer. we need to use dmwrite to access it. 19/02/2002 i have start to re-write all the stuff of palmapple that is using inline assembly to implements it. also , dragonball is m68000 based cpu. it got no cpu32 instructions ! -__- ! tools apple2 dsk image tools cygwin tools palmos sdk , prc-tools , palmos emulator , pilrc download sony clie sdk header cvs openssh prepare for yourself to learn more about appleii : p statistic.ws code start statistic.ws code end contact created : wed mar 20 10 : 44 : 29 hkt 2002 hhmts start last modified : tue aug 12 04 : 05 : 54 hkt 2003 hhmts end since 10/04/2002 free counter provided by web counter
